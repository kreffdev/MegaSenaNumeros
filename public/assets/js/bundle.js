(()=>{"use strict";function e(e,t,n,o,r,a,s){try{var l=e[a](s),i=l.value}catch(e){return void n(e)}l.done?t(i):Promise.resolve(i).then(o,r)}function t(e){return function(e){if(Array.isArray(e))return n(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return n(e,t);var o={}.toString.call(e).slice(8,-1);return"Object"===o&&e.constructor&&(o=e.constructor.name),"Map"===o||"Set"===o?Array.from(e):"Arguments"===o||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(o)?n(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function n(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,o=Array(t);n<t;n++)o[n]=e[n];return o}function o(){var n,o,r=(n=regeneratorRuntime.mark((function e(){var n,o,r,a,s,i,u;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(c.disabled=!0,c.textContent="üíæ Registrando...",e.prev=2,n=window.getConfigAtual?window.getConfigAtual():{modalidade:"megasena"},o=n.modalidade||"megasena",console.log("registrarSequenciasBackend - modalidade:",o),console.log("registrarSequenciasBackend - sequenciasConfirmadas:",d),r=[],a="maismilionaria"===o,s=document.querySelectorAll(".meus-numeros-preview .sequencia-item"),console.log("Itens de sequ√™ncia encontrados:",s.length),s.forEach((function(e,n){var s=d[n];if(s){var l={numeros:s};if(a){var i=e.dataset.trevos;if(console.log("Sequ√™ncia "+n+":",{numerosSeq:s,trevosStr:i}),i)try{var c=JSON.parse(i).map((function(e){return parseInt(e)}));l.numeros=[].concat(t(s),t(c)),console.log("N√∫meros completos com trevos:",l.numeros)}catch(e){console.error("Erro ao processar trevos:",e)}}"diadesorte"===o&&e.dataset.mesSorte&&(l.mesDaSorte=e.dataset.mesSorte,console.log("M√™s da Sorte adicionado:",l.mesDaSorte)),"timemania"===o&&e.dataset.timeCoracao&&(l.timeCoracao=e.dataset.timeCoracao,console.log("Time do Cora√ß√£o adicionado:",l.timeCoracao)),r.push(l)}})),console.log("sequenciasParaEnviar:",r),0!==r.length){e.next=18;break}return alert("‚ùå Nenhuma sequ√™ncia v√°lida encontrada. Por favor, crie pelo menos uma sequ√™ncia."),c.disabled=!1,c.textContent="üíæ Registrar Sequ√™ncias",e.abrupt("return");case 18:return e.next=20,fetch("/api/jogos/salvar-multiplas",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({sequencias:r,modalidade:o})});case 20:return i=e.sent,e.next=23,i.json();case 23:(u=e.sent).sucesso?(alert("‚úì "+u.mensagem),d=[],l.querySelectorAll(".sequencia-item").forEach((function(e){return e.remove()})),h(),c.style.display="none"):alert("‚úó Erro: "+u.mensagem),e.next=31;break;case 27:e.prev=27,e.t0=e.catch(2),console.error("Erro ao registrar sequ√™ncias:",e.t0),alert("Erro ao registrar sequ√™ncias. Verifique o console.");case 31:return e.prev=31,c.disabled=!1,c.textContent="üíæ Registrar Sequ√™ncias",e.finish(31);case 35:case"end":return e.stop()}}),e,this,[[2,27,31,35]])})),o=function(){var t=this,o=arguments;return new Promise((function(r,a){var s=n.apply(t,o);function l(t){e(s,r,a,l,i,"next",t)}function i(t){e(s,r,a,l,i,"throw",t)}l(void 0)}))},function(){return o.apply(this,arguments)}),a=document.querySelector(".numeros-criador ul"),s=document.querySelector(".escolhidos-lista"),l=document.querySelector(".meus-numeros-preview"),i=document.getElementById("btn-gerar-aleatorio"),c=document.getElementById("btn-registrar-sequencias");if(a&&s&&l){a.querySelectorAll("button").forEach((function(e){e.disabled=!1,e.style.pointerEvents="auto"}));var d=[],u=[],m=document.getElementById("trevos-container");if(m){var f=m.querySelectorAll(".trevo-btn");f.forEach((function(e){e.addEventListener("click",(function(){var t=m.querySelectorAll(".trevo-btn.selected");e.classList.contains("selected")?(e.classList.remove("selected"),f.forEach((function(e){return e.disabled=!1}))):t.length<2&&(e.classList.add("selected"),t.length+1>=2&&f.forEach((function(e){e.classList.contains("selected")||(e.disabled=!0)}))),b(),C()}))}))}c&&c.addEventListener("click",r),i&&i.addEventListener("click",(function(){console.log("Bot√£o aleat√≥rio clicado!");var e=window.getConfigAtual?window.getConfigAtual():{rangeInicio:1,rangeFim:60,numerosObrigatorios:6},t=!0===e.doisSorteios,n=parseInt(e.numerosObrigatorios)||6;if(console.log("Config atual:",e),console.log("Quantidade de n√∫meros a gerar:",n),console.log("Range:",e.rangeInicio,"at√©",e.rangeFim),console.log("√â Dupla Sena?",t),t){var o=function(){for(var t=[],n=0;t.length<6&&n<100;){var o=Math.floor(Math.random()*(e.rangeFim-e.rangeInicio+1))+e.rangeInicio;t.includes(o)||t.push(o),n++}return t};u=o();var r=o();console.log("üé≤ Dupla Sena - S√©rie 1 (embaralhada):",u),console.log("üé≤ Dupla Sena - S√©rie 2 (embaralhada):",r),console.log("üìä N√∫meros repetidos entre s√©ries:",u.filter((function(e){return r.includes(e)}))),y(r),b()}else{for(var a=new Set,s=0,l=10*n;a.size<n&&s<l;){var c=Math.floor(Math.random()*(e.rangeFim-e.rangeInicio+1))+e.rangeInicio;a.add(c),s++}var d=Array.from(a).sort((function(e,t){return e-t}));console.log("N√∫meros gerados:",d.length,d),console.log("Tentativas necess√°rias:",s),y(d)}if(e.temTrevos){var m=document.getElementById("trevos-container");if(m){m.querySelectorAll(".trevo-btn.selected").forEach((function(e){e.classList.remove("selected")}));for(var f=new Set;f.size<2;)f.add(Math.floor(6*Math.random())+1);m.querySelectorAll(".trevo-btn").forEach((function(e){f.has(parseInt(e.dataset.trevo))&&e.classList.add("selected")})),console.log("Trevos gerados:",Array.from(f))}}b(),i.textContent="‚úì Gerado!",setTimeout((function(){i.textContent="üé≤ Aleat√≥rio"}),500)})),a.addEventListener("click",(function(e){var t=e.target.closest("button");if(console.log("selectNumbers: click event",{target:e.target,closestBtn:t}),t)if(t.disabled)try{var n=t.getBoundingClientRect(),o={x:Math.round(n.left+n.width/2),y:Math.round(n.top+n.height/2)},r=document.elementFromPoint(o.x,o.y);console.log("selectNumbers: button appears disabled; elementFromPoint at center:",o,r);for(var s=r,l=[];s;)l.push({tag:s.tagName,cls:s.className,stylePointer:window.getComputedStyle(s).pointerEvents}),s=s.parentElement;console.log("selectNumbers: ancestors pointer-events chain:",l)}catch(e){console.warn("selectNumbers: debug elementFromPoint failed",e)}else{if(t.classList.contains("selected"))t.classList.remove("selected");else{var i=a.querySelectorAll("button.selected").length,c=!0===(window.getConfigAtual?window.getConfigAtual():{}).doisSorteios,d=p();if(c&&6===u.length&&(d=6),i>=d)return;t.classList.add("selected")}var m=a.querySelectorAll("button.selected").length,f=!0===(window.getConfigAtual?window.getConfigAtual():{}).doisSorteios,g=p();f&&6===u.length&&(g=6),m>=g?a.querySelectorAll("button").forEach((function(e){e.classList.contains("selected")||(e.disabled=!0)})):a.querySelectorAll("button").forEach((function(e){return e.disabled=!1})),console.log("selectNumbers: updated selection count",a.querySelectorAll("button.selected").length),b()}}));var g=document.getElementById("mes-sorte");g&&g.addEventListener("change",(function(){b()}));var v=document.getElementById("time-coracao");v&&v.addEventListener("change",(function(){b()}))}function p(){return window.getConfigAtual?window.getConfigAtual().numerosObrigatorios:6}function y(e){a.querySelectorAll("button.selected").forEach((function(e){e.classList.remove("selected")})),a.querySelectorAll("button").forEach((function(t){e.includes(parseInt(t.textContent))&&t.classList.add("selected"),t.disabled=!1})),a.querySelectorAll("button").forEach((function(e){e.classList.contains("selected")||(e.disabled=!0)})),b()}function h(){var e=l.querySelectorAll(".sequencia-item").length,t=document.querySelector(".contagem-sequencias");t&&(t.textContent=e),c&&(c.style.display=e>0?"block":"none")}function b(){var e=a.querySelectorAll("button.selected"),n=Array.from(e).map((function(e){return e.textContent})).sort((function(e,t){return parseInt(e)-parseInt(t)}));s.innerHTML="";var o=window.getConfigAtual?window.getConfigAtual():{},r=!0===o.doisSorteios,l=!0===o.temMesDaSorte;if(r)if(6===u.length){u.forEach((function(e){var t=document.createElement("div");t.className="escolhido-numero",t.textContent=e,t.style.opacity="0.6",s.appendChild(t)}));var i=document.createElement("span");i.className="separador-escolhidos",i.textContent="|",i.style.color="#8B5CF6",i.style.fontSize="2rem",i.style.fontWeight="bold",i.style.margin="0 0.5rem",s.appendChild(i),n.forEach((function(t){var n=document.createElement("div");n.className="escolhido-numero",n.textContent=t;var o=Array.from(e).find((function(e){return e.textContent===t}));o&&n.addEventListener("click",(function(){o.click()})),s.appendChild(n)}))}else n.forEach((function(t){var n=document.createElement("div");n.className="escolhido-numero",n.textContent=t;var o=Array.from(e).find((function(e){return e.textContent===t}));o&&n.addEventListener("click",(function(){o.click()})),s.appendChild(n)})),6===n.length&&(u=[].concat(t(n)),setTimeout((function(){a.querySelectorAll("button.selected").forEach((function(e){e.classList.remove("selected"),e.disabled=!1})),a.querySelectorAll("button").forEach((function(e){e.disabled=!1})),b()}),500));else{if(n.forEach((function(t){var n=document.createElement("div");n.className="escolhido-numero",n.textContent=t;var o=Array.from(e).find((function(e){return e.textContent===t}));o&&n.addEventListener("click",(function(){o.click()})),s.appendChild(n)})),l&&n.length>0){var c=document.getElementById("mes-sorte"),d=c?c.value:"",m=c&&d?c.options[c.selectedIndex].text:"";if(m){var f=document.createElement("span");f.className="separador-mes-sorte",f.textContent="|",f.style.color="#CB852B",f.style.fontSize="2rem",f.style.fontWeight="bold",f.style.margin="0 0.5rem",s.appendChild(f);var g=document.createElement("div");g.className="escolhido-mes-sorte",g.textContent="üåü "+m,g.style.color="#CB852B",g.style.fontWeight="bold",g.style.fontSize="1.1rem",g.style.display="flex",g.style.alignItems="center",g.style.padding="0.5rem 1rem",g.style.background="rgba(203, 133, 43, 0.1)",g.style.borderRadius="0.5rem",s.appendChild(g)}}if(!0===o.temTimeCoracao&&n.length>0){var v=document.getElementById("time-coracao"),p=v?v.value:"",y=v&&p?v.options[v.selectedIndex].text:"";if(y){var h=document.createElement("span");h.className="separador-time-coracao",h.textContent="|",h.style.color="#00FF48",h.style.fontSize="2rem",h.style.fontWeight="bold",h.style.margin="0 0.5rem",s.appendChild(h);var S=document.createElement("div");S.className="escolhido-time-coracao",S.textContent="‚öΩ "+y,S.style.color="#00FF48",S.style.fontWeight="bold",S.style.fontSize="1.1rem",S.style.display="flex",S.style.alignItems="center",S.style.padding="0.5rem 1rem",S.style.background="rgba(0, 255, 72, 0.1)",S.style.borderRadius="0.5rem",s.appendChild(S)}}if(!0===o.temTrevos&&n.length>0){var E=document.getElementById("trevos-container"),q=E?Array.from(E.querySelectorAll(".trevo-btn.selected")).map((function(e){return e.dataset.trevo})):[];if(q.length>0){var A=document.createElement("span");A.className="separador-trevos",A.textContent="|",A.style.color="#16397F",A.style.fontSize="2rem",A.style.fontWeight="bold",A.style.margin="0 0.5rem",s.appendChild(A),q.forEach((function(e){var t=document.createElement("div");t.className="escolhido-numero",t.textContent=e,s.appendChild(t)}))}}}C(),e.length>0&&window.esconderInstrucoes&&window.esconderInstrucoes()}function C(){var e=a.querySelectorAll("button.selected").length,t=window.getConfigAtual?window.getConfigAtual():{},n=!0===t.doisSorteios,o=!0===t.temTrevos,r=p(),l=document.getElementById("btn-confirmar-numeros");if(n)6!==u.length||6!==e||l?6===u.length&&6===e||!l||l.remove():((l=document.createElement("button")).id="btn-confirmar-numeros",l.className="btn-confirmar primary-button confirm-btn-fixed",l.textContent="Confirmar Sequ√™ncia (2 Sorteios)",l.addEventListener("click",S),s.parentElement.appendChild(l),setTimeout((function(){l.scrollIntoView({behavior:"smooth",block:"center"})}),100));else if(o){var i=document.getElementById("trevos-container"),c=i?i.querySelectorAll(".trevo-btn.selected").length:0,d=e>=r&&2===c;d&&!l?((l=document.createElement("button")).id="btn-confirmar-numeros",l.className="btn-confirmar primary-button confirm-btn-fixed",l.textContent="Confirmar Sequ√™ncia",l.addEventListener("click",S),s.parentElement.appendChild(l),setTimeout((function(){l.scrollIntoView({behavior:"smooth",block:"center"})}),100)):!d&&l&&l.remove()}else e!==r||l?e<r&&l&&l.remove():((l=document.createElement("button")).id="btn-confirmar-numeros",l.className="btn-confirmar primary-button confirm-btn-fixed",l.textContent="Confirmar Sequ√™ncia",l.addEventListener("click",S),s.parentElement.appendChild(l),setTimeout((function(){l.scrollIntoView({behavior:"smooth",block:"center"})}),100))}function S(){var e=window.getConfigAtual?window.getConfigAtual():{},n=!0===e.doisSorteios,o=!0===e.temTrevos;console.log("confirmarSequencia chamada",{config:e,ehMaisMilionaria:o});var r=void 0;if(n&&6===u.length){var i=Array.from(a.querySelectorAll("button.selected")).map((function(e){return e.textContent})).sort((function(e,t){return parseInt(e)-parseInt(t)}));r=[].concat(t(u),t(i))}else r=Array.from(a.querySelectorAll("button.selected")).map((function(e){return e.textContent})).sort((function(e,t){return parseInt(e)-parseInt(t)}));if(console.log("N√∫meros selecionados:",r),o){var c=document.getElementById("trevos-container"),f=c?Array.from(c.querySelectorAll(".trevo-btn.selected")).map((function(e){return e.dataset.trevo})):[];console.log("Trevos selecionados:",f),console.log("Quantidade de trevos:",f.length)}d.push(r.map((function(e){return parseInt(e)}))),console.log("sequenciasConfirmadas ap√≥s push:",d);var g=l.querySelector(".label-contagem"),v=document.createElement("div");v.className="sequencia-item",v.dataset.numeros=JSON.stringify(r.map((function(e){return parseInt(e)})));var p=document.createElement("div");p.className="sequencia-numeros";var y=!0===e.temMesDaSorte;if(n&&12===r.length){for(var b=0;b<6;b++){var S=document.createElement("span");S.className="numero-sequencia",S.textContent=r[b],p.appendChild(S)}var E=document.createElement("span");E.className="separador-sorteios",E.textContent="|",E.style.color="#8B5CF6",E.style.fontSize="2rem",E.style.fontWeight="bold",E.style.margin="0 0.75rem",p.appendChild(E);for(var q=6;q<12;q++){var A=document.createElement("span");A.className="numero-sequencia",A.textContent=r[q],p.appendChild(A)}}else{if(r.forEach((function(e){var t=document.createElement("span");t.className="numero-sequencia",t.textContent=e,p.appendChild(t)})),y){var w=document.getElementById("mes-sorte"),x=w?w.value:"",I=w&&x?w.options[w.selectedIndex].text:"";if(I){var N=document.createElement("span");N.className="separador-mes-sorte",N.textContent="|",N.style.color="#CB852B",N.style.fontSize="2rem",N.style.fontWeight="bold",N.style.margin="0 0.75rem",p.appendChild(N);var L=document.createElement("span");L.className="mes-sorte-preview",L.textContent="üåü "+I,L.style.color="#CB852B",L.style.fontWeight="bold",L.style.fontSize="1rem",L.style.padding="0.5rem 1rem",L.style.background="rgba(203, 133, 43, 0.15)",L.style.borderRadius="2rem",L.style.whiteSpace="nowrap",p.appendChild(L),v.dataset.mesSorte=I}}if(!0===e.temTimeCoracao){var B=document.getElementById("time-coracao"),k=B?B.value:"",T=B&&k?B.options[B.selectedIndex].text:"";if(T){var F=document.createElement("span");F.className="separador-time-coracao",F.textContent="|",F.style.color="#00FF48",F.style.fontSize="2rem",F.style.fontWeight="bold",F.style.margin="0 0.75rem",p.appendChild(F);var M=document.createElement("span");M.className="time-coracao-preview",M.textContent="‚öΩ "+T,M.style.color="#00FF48",M.style.fontWeight="bold",M.style.fontSize="1rem",M.style.padding="0.5rem 1rem",M.style.background="rgba(0, 255, 72, 0.15)",M.style.borderRadius="2rem",M.style.whiteSpace="nowrap",p.appendChild(M),v.dataset.timeCoracao=T}}if(!0===e.temTrevos){var z=document.getElementById("trevos-container"),O=z?Array.from(z.querySelectorAll(".trevo-btn.selected")).map((function(e){return e.dataset.trevo})):[];if(O.length>0){var W=document.createElement("span");W.className="separador-trevos",W.textContent="|",W.style.color="#16397F",W.style.fontSize="2rem",W.style.fontWeight="bold",W.style.margin="0 0.75rem",p.appendChild(W),O.forEach((function(e){var t=document.createElement("span");t.className="numero-sequencia",t.textContent=e,p.appendChild(t)})),v.dataset.trevos=JSON.stringify(O)}}}var R=document.createElement("button");R.className="btn-remover-sequencia",R.textContent="‚úï",R.addEventListener("click",(function(){var e=v.dataset.numeros,t=d.findIndex((function(t){return JSON.stringify(t)===e}));t>-1&&d.splice(t,1),v.remove(),h()})),v.appendChild(p),v.appendChild(R),console.log("Inserindo sequenciaItem no DOM",{previewDiv:l,labelContagem:g,sequenciaItem:v}),console.log("sequenciaItem.dataset.trevos antes de inserir:",v.dataset.trevos),g?l.insertBefore(v,g):l.appendChild(v),console.log("Elemento inserido! Verificando quantos .sequencia-item existem:",l.querySelectorAll(".sequencia-item").length),h(),a.querySelectorAll("button.selected").forEach((function(e){e.classList.remove("selected")})),a.querySelectorAll("button").forEach((function(e){return e.disabled=!1})),u=[],m&&(m.querySelectorAll(".trevo-btn.selected").forEach((function(e){e.classList.remove("selected")})),m.querySelectorAll(".trevo-btn").forEach((function(e){e.disabled=!1}))),s.innerHTML="",C()}}"loading"===document.readyState?document.addEventListener("DOMContentLoaded",o):o(),window.initSelectNumbers=o})();
//# sourceMappingURL=bundle.js.map
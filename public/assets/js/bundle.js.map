{"version":3,"file":"bundle.js","mappings":"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","sources":["webpack://projetoagenda/./public/assets/js/selectNumbers.js"],"sourcesContent":["// Fun√ß√£o principal de sele√ß√£o de n√∫meros\r\nfunction initSelectNumbers() {\r\n  const container = document.querySelector('.numeros-criador ul');\r\n  const escolhidosLista = document.querySelector('.escolhidos-lista');\r\n  const previewDiv = document.querySelector('.meus-numeros-preview');\r\n  const btnGerar = document.getElementById('btn-gerar-aleatorio');\r\n  const btnRegistrar = document.getElementById('btn-registrar-sequencias');\r\n  if (!container || !escolhidosLista || !previewDiv) return;\r\n\r\n  const MAX_SELECTIONS = 6;\r\n  let sequenciasConfirmadas = []; // Armazena sequ√™ncias confirmadas localmente\r\n\r\n  // Fun√ß√£o para gerar n√∫meros aleat√≥rios\r\n  function gerarAleatorios() {\r\n    const numeros = new Set();\r\n    while (numeros.size < MAX_SELECTIONS) {\r\n      numeros.add(Math.floor(Math.random() * 60) + 1);\r\n    }\r\n    return Array.from(numeros).sort((a, b) => a - b);\r\n  }\r\n\r\n  // Fun√ß√£o para selecionar n√∫meros programaticamente\r\n  function selecionarNumeros(numeros) {\r\n    // Limpar sele√ß√£o anterior\r\n    container.querySelectorAll('button.selected').forEach(btn => {\r\n      btn.classList.remove('selected');\r\n    });\r\n    \r\n    // Selecionar os novos n√∫meros\r\n    container.querySelectorAll('button').forEach(btn => {\r\n      if (numeros.includes(parseInt(btn.textContent))) {\r\n        btn.classList.add('selected');\r\n      }\r\n      btn.disabled = false;\r\n    });\r\n    \r\n    // Desabilitar bot√µes n√£o selecionados\r\n    container.querySelectorAll('button').forEach(b => {\r\n      if (!b.classList.contains('selected')) b.disabled = true;\r\n    });\r\n    \r\n    updateEscolhidos();\r\n  }\r\n\r\n  // Fun√ß√£o para atualizar a contagem de sequ√™ncias\r\n  function atualizarContagem() {\r\n    const contagem = previewDiv.querySelectorAll('.sequencia-item').length;\r\n    const contagemSpan = document.querySelector('.contagem-sequencias');\r\n    if (contagemSpan) {\r\n      contagemSpan.textContent = contagem;\r\n    }\r\n    \r\n    // Mostrar bot√£o registrar se houver sequ√™ncias confirmadas\r\n    if (btnRegistrar) {\r\n      if (contagem > 0) {\r\n        btnRegistrar.style.display = 'block';\r\n      } else {\r\n        btnRegistrar.style.display = 'none';\r\n      }\r\n    }\r\n  }\r\n\r\n  // Fun√ß√£o para atualizar a lista de n√∫meros escolhidos\r\n  function updateEscolhidos() {\r\n    const selectedButtons = container.querySelectorAll('button.selected');\r\n    const listItems = escolhidosLista.querySelectorAll('.escolhido-numero');\r\n    \r\n    // Remove items da lista que n√£o est√£o mais selecionados\r\n    listItems.forEach(item => {\r\n      const numero = item.textContent;\r\n      const isStillSelected = Array.from(selectedButtons).some(btn => btn.textContent === numero);\r\n      if (!isStillSelected) {\r\n        item.remove();\r\n      }\r\n    });\r\n\r\n    // Adiciona novos n√∫meros selecionados\r\n    selectedButtons.forEach(btn => {\r\n      const numero = btn.textContent;\r\n      const exists = Array.from(escolhidosLista.querySelectorAll('.escolhido-numero')).some(item => item.textContent === numero);\r\n      \r\n      if (!exists) {\r\n        const item = document.createElement('div');\r\n        item.className = 'escolhido-numero';\r\n        item.textContent = numero;\r\n        item.addEventListener('click', function() {\r\n          btn.click();\r\n        });\r\n        escolhidosLista.appendChild(item);\r\n      }\r\n    });\r\n\r\n    // Mostra bot√£o de confirma√ß√£o se houver 6 selecionados\r\n    updateConfirmButton();\r\n  }\r\n\r\n  // Fun√ß√£o para atualizar visibilidade do bot√£o de confirma√ß√£o\r\n  function updateConfirmButton() {\r\n    const selectedCount = container.querySelectorAll('button.selected').length;\r\n    let confirmBtn = document.getElementById('btn-confirmar-numeros');\r\n    \r\n    if (selectedCount === MAX_SELECTIONS && !confirmBtn) {\r\n      // Criar bot√£o de confirma√ß√£o\r\n      confirmBtn = document.createElement('button');\r\n      confirmBtn.id = 'btn-confirmar-numeros';\r\n      confirmBtn.className = 'btn-confirmar';\r\n      confirmBtn.textContent = 'Confirmar Sequ√™ncia';\r\n      confirmBtn.addEventListener('click', confirmarSequencia);\r\n      escolhidosLista.parentElement.appendChild(confirmBtn);\r\n      \r\n      // Scroll autom√°tico para o bot√£o\r\n      setTimeout(() => {\r\n        confirmBtn.scrollIntoView({ behavior: 'smooth', block: 'center' });\r\n      }, 100);\r\n    } else if (selectedCount < MAX_SELECTIONS && confirmBtn) {\r\n      // Remover bot√£o se n√£o tiver 6\r\n      confirmBtn.remove();\r\n    }\r\n  }\r\n\r\n  // Fun√ß√£o para confirmar e guardar a sequ√™ncia\r\n  function confirmarSequencia() {\r\n    const selectedNumbers = Array.from(container.querySelectorAll('button.selected'))\r\n      .map(btn => btn.textContent)\r\n      .sort((a, b) => parseInt(a) - parseInt(b));\r\n\r\n    // Armazenar localmente\r\n    sequenciasConfirmadas.push(selectedNumbers.map(n => parseInt(n)));\r\n\r\n    // Criar elemento para exibir a sequ√™ncia salva\r\n    const sequenciaItem = document.createElement('div');\r\n    sequenciaItem.className = 'sequencia-item';\r\n    sequenciaItem.dataset.numeros = JSON.stringify(selectedNumbers.map(n => parseInt(n)));\r\n    \r\n    // Criar display dos n√∫meros\r\n    const numerosDisplay = document.createElement('div');\r\n    numerosDisplay.className = 'sequencia-numeros';\r\n    selectedNumbers.forEach(num => {\r\n      const numSpan = document.createElement('span');\r\n      numSpan.className = 'numero-sequencia';\r\n      numSpan.textContent = num;\r\n      numerosDisplay.appendChild(numSpan);\r\n    });\r\n\r\n    // Bot√£o para remover sequ√™ncia\r\n    const btnRemover = document.createElement('button');\r\n    btnRemover.className = 'btn-remover-sequencia';\r\n    btnRemover.textContent = '‚úï';\r\n    btnRemover.addEventListener('click', function() {\r\n      const numerosStr = sequenciaItem.dataset.numeros;\r\n      const index = sequenciasConfirmadas.findIndex(seq => \r\n        JSON.stringify(seq) === numerosStr\r\n      );\r\n      if (index > -1) {\r\n        sequenciasConfirmadas.splice(index, 1);\r\n      }\r\n      sequenciaItem.remove();\r\n      atualizarContagem();\r\n    });\r\n\r\n    sequenciaItem.appendChild(numerosDisplay);\r\n    sequenciaItem.appendChild(btnRemover);\r\n    previewDiv.appendChild(sequenciaItem);\r\n    atualizarContagem();\r\n\r\n    // Limpar sele√ß√£o e reiniciar\r\n    container.querySelectorAll('button.selected').forEach(btn => {\r\n      btn.classList.remove('selected');\r\n    });\r\n    container.querySelectorAll('button').forEach(b => b.disabled = false);\r\n    \r\n    // Limpar lista de escolhidos\r\n    escolhidosLista.innerHTML = '';\r\n    updateConfirmButton();\r\n  }\r\n\r\n  // Fun√ß√£o para registrar sequ√™ncias no backend\r\n  async function registrarSequenciasBackend() {\r\n    if (sequenciasConfirmadas.length === 0) {\r\n      alert('Nenhuma sequ√™ncia para registrar!');\r\n      return;\r\n    }\r\n\r\n    btnRegistrar.disabled = true;\r\n    btnRegistrar.textContent = 'üíæ Registrando...';\r\n\r\n    try {\r\n      const response = await fetch('/api/jogos/salvar-multiplas', {\r\n        method: 'POST',\r\n        headers: {\r\n          'Content-Type': 'application/json'\r\n        },\r\n        body: JSON.stringify({\r\n          sequencias: sequenciasConfirmadas.map(seq => ({ numeros: seq }))\r\n        })\r\n      });\r\n\r\n      const data = await response.json();\r\n\r\n      if (data.sucesso) {\r\n        alert(`‚úì ${data.mensagem}`);\r\n        // Limpar sequ√™ncias confirmadas\r\n        sequenciasConfirmadas = [];\r\n        // Limpar preview\r\n        previewDiv.querySelectorAll('.sequencia-item').forEach(item => item.remove());\r\n        atualizarContagem();\r\n        btnRegistrar.style.display = 'none';\r\n      } else {\r\n        alert(`‚úó Erro: ${data.mensagem}`);\r\n      }\r\n    } catch (erro) {\r\n      console.error('Erro ao registrar sequ√™ncias:', erro);\r\n      alert('Erro ao registrar sequ√™ncias. Verifique o console.');\r\n    } finally {\r\n      btnRegistrar.disabled = false;\r\n      btnRegistrar.textContent = 'üíæ Registrar Sequ√™ncias';\r\n    }\r\n  }\r\n\r\n  // Event listener para o bot√£o registrar\r\n  if (btnRegistrar) {\r\n    btnRegistrar.addEventListener('click', registrarSequenciasBackend);\r\n  }\r\n\r\n  // Evento do bot√£o gerar aleat√≥rio\r\n  if (btnGerar) {\r\n    btnGerar.addEventListener('click', function() {\r\n      const numerosAleatorios = gerarAleatorios();\r\n      selecionarNumeros(numerosAleatorios);\r\n    });\r\n  }\r\n\r\n  // Event listener para os bot√µes de n√∫mero\r\n  container.addEventListener('click', function (e) {\r\n    const btn = e.target.closest('button');\r\n    if (!btn) return;\r\n    // ignorar se estiver desabilitado\r\n    if (btn.disabled) return;\r\n\r\n    const isSelected = btn.classList.contains('selected');\r\n\r\n    if (isSelected) {\r\n      btn.classList.remove('selected');\r\n    } else {\r\n      const selectedCount = container.querySelectorAll('button.selected').length;\r\n      if (selectedCount >= MAX_SELECTIONS) {\r\n        // j√° atingiu o m√°ximo, ignorar novo clique\r\n        return;\r\n      }\r\n      btn.classList.add('selected');\r\n    }\r\n\r\n    // Atualiza estado dos demais bot√µes: se j√° houver MAX_SELECTIONS selecionados, desabilita os n√£o selecionados\r\n    const nowSelected = container.querySelectorAll('button.selected').length;\r\n    if (nowSelected >= MAX_SELECTIONS) {\r\n      container.querySelectorAll('button').forEach(b => {\r\n        if (!b.classList.contains('selected')) b.disabled = true;\r\n      });\r\n    } else {\r\n      container.querySelectorAll('button').forEach(b => b.disabled = false);\r\n    }\r\n\r\n    // Atualiza a lista de n√∫meros escolhidos\r\n    updateEscolhidos();\r\n  });\r\n}\r\n\r\ninitSelectNumbers();\r\n// Disponibiliza a fun√ß√£o globalmente para ser chamada quando desejar\r\nwindow.initSelectNumbers = initSelectNumbers;"],"names":["initSelectNumbers","_ref","registrarSequenciasBackend","regeneratorRuntime","mark","_callee","response","data","wrap","_context","prev","next","sequenciasConfirmadas","length","alert","abrupt","btnRegistrar","disabled","textContent","fetch","method","headers","body","JSON","stringify","sequencias","map","seq","numeros","sent","json","sucesso","mensagem","previewDiv","querySelectorAll","forEach","item","remove","atualizarContagem","style","display","t0","console","error","finish","stop","apply","arguments","container","document","querySelector","escolhidosLista","btnGerar","getElementById","addEventListener","numerosAleatorios","Set","size","add","Math","floor","random","Array","from","sort","a","b","gerarAleatorios","btn","classList","includes","parseInt","contains","updateEscolhidos","e","target","closest","contagem","contagemSpan","selectedButtons","numero","some","exists","createElement","className","click","appendChild","updateConfirmButton","selectedCount","confirmBtn","id","confirmarSequencia","parentElement","setTimeout","scrollIntoView","behavior","block","selectedNumbers","push","n","sequenciaItem","dataset","numerosDisplay","num","numSpan","btnRemover","numerosStr","index","findIndex","splice","innerHTML","window"],"sourceRoot":""}